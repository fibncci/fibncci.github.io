---
layout: post
title: "sql笔记"
date: 2019-12-20
tag: sas
---





## SQL

### 增删改查

对数据库有修改的操作是:  增删改

对数据库没有修改的操作是: 查(最主要的SQL)



#### 查询的SQL的结构是

SELECT ...  FROM ... WHERE ... GROUP BY ... HAVING ... ORDER BY ... LIMIT ...



#### 写SQL的时候需要按照如下顺序写

FROM, WHERE, GROUP BY, SELECT, HAVING, ORDER BY, LIMIT



#### FROM 的作用

FROM Stu, 将Stu表中的数据都获取过来

JOIN.....以后再说



#### WHERE的作用

对在FROM中获取的数据进行过滤. AND, OR, !=

符合条件的数据留下, 不符合条件的数据丢弃



#### GROUP BY 作用

GROUP BY classid, 按照 class id 进行分组.

分组后, 如果遇到SELECT, 那么输出的是每一组的第一行数据.

GROUP BY 还可以和聚集函数放在一起, 



聚集函数:

COUNT(), SUM(), MAX(), MIN(), AVG(), GROUP_CONCAT()



### 创建数据库(schema)

CREATE DATABASE py2py20py6;



### CREATE 语句怎么写

CREATE TABLE stu (id int primary key, name char(10), classid int) default charset=utf8mb4;



### 插入数据使用的SQL

```


INSERT INTO stu (id, name, classid) VALUES(1, '贾博学', 20), (2, '冯超', 20), (3, '李杰', 20), (4, '郑国瑞', 6), (5, '黄利雄', 6), (6, '朱丽', 6), (7, '罗勇', 2), (8, '袁流泉', 2), (9, '罗福东', 2);

INSERT INTO stu (id, name, classid) VALUES(2, '冯超', 20);

INSERT INTO stu (id, name, classid) VALUES(3, '李杰', 20);

INSERT INTO stu (id, name, classid) VALUES(10, '郑佳明', 20);

INSERT INTO stu (id, name, classid) VALUES(11, '李双杰', 20);

INSERT INTO stu (id, name, classid) VALUES(12, NULL, 20);

INSERT INTO stu (id, name, classid) VALUES(13, '李双杰', 20);



INSERT INTO stu (id, name, classid) VALUES(4, '郑国瑞', 6);

INSERT INTO stu (id, name, classid) VALUES(5, '黄利雄', 6);

INSERT INTO stu (id, name, classid) VALUES(6, '朱丽', 6);





INSERT INTO stu (id, name, classid) VALUES(7, '罗勇', 2);

INSERT INTO stu (id, name, classid) VALUES(8, '袁流泉', 2);

INSERT INTO stu (id, name, classid) VALUES(9, '罗福东', 2);


```



### 清空数据表

```


TRUNCATE 表名.

TRUNCATE stu;



1212331323113

->1111122233333 升序 ASC

->3333322211111 降序 DESC
```



```
mysql> SELECT * FROM stu GROUP BY classid DESC;
+----+-----------+---------+
| id | name      | classid |
+----+-----------+---------+
|  7 | 罗勇      |       2 |
|  4 | 郑国瑞    |       6 |
|  1 | 贾博学    |      20 |
+----+-----------+---------+
3 rows in set (0.00 sec)

为什么class id在输出的时候还进行了排序?
原因是: 
```

