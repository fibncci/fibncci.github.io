---
layout: post
title: "scala--å¤„ç†å¤§æ•°æ®"
date: 2019-09-18
tag: lang
---





## Macç»ˆç«¯è¿è¡Œscala 

macå‘½ä»¤è¡Œç¼–è¯‘æ‰§è¡Œè¿è¡Œscalaæ–‡ä»¶;Scalaç¼–è¯‘å’Œè¿è¡Œ

```scala

3.æ£€éªŒç»“æœ
åœ¨ç»ˆç«¯è¾“å…¥scala å‘½ä»¤ï¼Œè¿›å…¥scalaè§£é‡Šå™¨ï¼Œç„¶åè¾“å…¥1ï¼‹2
4.é€€å‡ºscalaè§£é‡Šå™¨ã€‚
è¾“å…¥ :q    æˆ–:quit 

ç¼–è¯‘srcä¸‹çš„scalaï¼š
scalac -classpath lib/spark-assembly-1.5.1-hadoop2.6.0.jar -d classes src/com/xzj/process/*

classesæ–‡ä»¶å¤¹ä¸‹é¢å°±ä¼šæœ‰ç›¸åº”çš„.classæ–‡ä»¶
scala -classpath classes:lib/spark-assembly-1.5.1-hadoop2.6.0.jar com.xzj.process.Main

âœ  scala git:(master) âœ— cd /Users/tianzi/Desktop/æ—¶é—´å¤æ‚åº¦/scala 
âœ  scala git:(master) âœ— scala s_name.scala 
hello	world
```



- scalacï¼šscalaçš„ç¼–è¯‘å™¨
- -classpathï¼šæŒ‡æ˜å¤–éƒ¨ä¾èµ–åŒ…
- -dï¼šæŒ‡æ˜ ç¼–è¯‘åçš„è¾“å‡ºæ–‡ä»¶ è¦æ”¾åˆ°å“ªé‡Œï¼Œè¿™é‡ŒæŠŠç¼–è¯‘ç»“æœæ”¾åœ¨classesæ–‡ä»¶ä¸‹
- æœ€åæŒ‡æ˜éœ€è¦ç¼–è¯‘çš„scalaæ–‡ä»¶ï¼ˆè¯¥ä¾‹å­æ˜¯æ•´ä¸ªç›®å½•ï¼‰ã€‚



**s_name.scala æ–‡ä»¶**

å¿…é¡»æ˜¯åŒå¼•å·

```scala

println("hello	world")

```



```scala
package com.xx.yy
import java.util._;
object HelloWorld {
        def main(args: Array[String]) {
                println("Hello World!");
        }
}
```



é¡¹ç›®çš„ç»“æ„src

```
 |--com
     |--xzj
          |--process
               |--Main.scala
               |--NAStatsCounter.scala
```

NAStatsCounter.scalaå†…å®¹

```scala
package com.xzj.process
import org.apache.spark.util.StatCounter
class NAStatsCounter extends Serializable {

  val stats: StatCounter = new StatCounter()
  var missing: Long = 0

  def add(x: Double): NAStatsCounter = {

    if (java.lang.Double.isNaN(x)) {
      missing += 1
    } else {
      stats.merge(x)
    }
    this
  }

  def merge(other: NAStatsCounter): NAStatsCounter = {
    stats.merge(other.stats)
    missing += other.missing
    this
  }

  override def toString = {
    "stats: " + stats.toString + "NaN: " + missing
  }
}

object NAStatsCounter extends Serializable {
  def apply(x: Double) = new NAStatsCounter().add(x)
}
```

Main.scalaå†…å®¹

```scala
package com.xzj.process
object Main {
  def main(args: Array[String]) {

    var testArray = Array(11.1, 12.1, 13.2, Double.NaN)
    var test2 = Array(11, 3, 22.1, Double.NaN, 0)

    var testc = testArray.map(c => NAStatsCounter(c))
    var testc2 = test2.map(NAStatsCounter(_))
    var list = testc.zip(testc2)
    list.map {
      case (a, b) => a.merge(b)
    }
    list.foreach(println)
  }

}
```







## å®‰è£…

```
é¦–å…ˆï¼Œç¡®ä¿å®‰è£…äº†Java 8 JDKã€‚
è¦æ£€æŸ¥ï¼Œè¯·æ‰“å¼€ç»ˆç«¯å¹¶é”®å…¥ï¼š
java -versionï¼ˆç¡®ä¿æ‚¨æ‹¥æœ‰1.8ç‰ˆæœ¬ã€‚ï¼‰
ï¼ˆå¦‚æœæ‚¨æ²¡æœ‰å®‰è£…å®ƒï¼Œè¯·åœ¨æ­¤å¤„ä¸‹è½½Javaã€‚ï¼‰

ç„¶åï¼Œå®‰è£…Scalaï¼š
é€šè¿‡å®‰è£…è¯¸å¦‚IntelliJçš„IDEæˆ–sbtï¼ŒScalaçš„æ„å»ºå·¥å…·ã€‚

å¦‚æœæ‚¨ç†Ÿæ‚‰å‘½ä»¤è¡Œï¼Œåˆ™æœ€å¥½ï¼›ä¸‹è½½SBT
åœ¨å‘½ä»¤è¡Œä¸Šä½¿ç”¨Scalaå’Œsbtå…¥é—¨
åœ¨å‘½ä»¤è¡Œä¸Šä½¿ç”¨sbtå’ŒScalaTestæµ‹è¯•Scala

```

**å„å·¥å…·çš„ç‰ˆæœ¬**

- Scala : 2.12.6
- Sbt : 1.1.6
- IDEA : 2018.1.4
- Atom : 1.23.2

```scala
âœ  fibncci.github.io git:(master) brew -v
Homebrew 2.1.11
Homebrew/homebrew-core (git revision b669; last commit 2019-09-05)
âœ  fibncci.github.io git:(master) brew info scala   
scala: stable 2.13.0
JVM-based programming language
https://www.scala-lang.org/
Required: java >= 1.8 âœ”
To use with IntelliJ, set the Scala home to:		ç›®å½•
  /usr/local/opt/scala/idea
build_error: 0 (30 days)		æ„å»ºé”™è¯¯:0(30å¤©)

âœ  fibncci.github.io git:(master) brew install scala
ä½¿ç”¨homebrewå®‰è£…scala sdkå’Œå¯ä»¥æ„å»ºscalaåº”ç”¨çš„å·¥å…·
Pruned 14 symbolic links and 1 directories from /usr/local

âœ  fibncci.github.io git:(master) brew list 
scala	tree	unrar

âœ  fibncci.github.io git:(master) brew install sbt@1
==> Downloading https://github.com/sbt/sbt/releases/download/v1.3.0/sbt-1.3.0.tg
######################### 100.0%
curl:	å·æ›²		 å¢åˆ æ”¹æŸ¥  CRUDï¼ˆcreate, read, update, deleteï¼‰
ğŸº  /usr/local/Cellar/sbt/1.3.0: 765 files, 54.9MB, built in 2 minutes 51 seconds

âœ  ~ git:(master) âœ— cd  /Users/tianzi/Documents/scala

cdåˆ°ä¸€ä¸ªç©ºçš„ç›®å½•ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ¨¡æ¿å·¥ç¨‹
âœ  scala git:(master) âœ— sbt new scala/hello-world.g8
[info] Set current project to scala (in build 
name [Hello World template]: 
# ç›´æ¥å›è½¦ï¼Œä½¿ç”¨é»˜è®¤å·¥ç¨‹åå³å¯
# å›è½¦åå¤šä¸€ä¸ª hello-world-template   ï¼›
Template applied in /Users/tianzi/Documents/scala/./hello-world-template

2.cdåˆ°hello-world-templateç›®å½•ï¼Œå¹¶è¿è¡Œsbtå‘½ä»¤ï¼Œè¿›å…¥sbtçš„äº¤äº’æ¨¡å¼
âœ  scala git:(master) âœ— cd hello-world-template 
âœ  hello-world-template git:(master) âœ— sbt                         
[info] [launcher] getting org.scala-sbt sbt 1.2.8  (this may take some time)...
...
[info] Running Main 
Hello, World!
[success] Total time: 20 s, completed 2019-9-18 8:32:30
1. Waiting for source changes in project hello-world-template... (press enter to interrupt)

                                 
âœ  hello-world-template git:(master) âœ— scala -version
Scala code runner version 2.13.0 -- Copyright 2002-2019, LAMP/EPFL and Lightbend, Inc.
âœ  hello-world-template git:(master) âœ— scala         
Welcome to Scala 2.13.0 (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0_181).
Type in expressions for evaluation. Or try :help.

scala> 1+2
res0: Int = 3
```





## ç¬”è®°



Scalaè¯­è¨€çš„åç§°æ¥è‡ªäºâ€œå¯ä¼¸å±•çš„è¯­è¨€â€ã€‚å®ƒæ˜¯ä¸€ç§æŠŠé¢å‘å¯¹è±¡å’Œå‡½æ•°å¼ç¼–ç¨‹ç†å¿µåŠ å…¥åˆ°é™æ€ç±»å‹è¯­è¨€ä¸­çš„ æ··è¡€å„¿ã€‚å®ƒè·‘åœ¨æ ‡å‡†çš„ Java å¹³å°ä¸Š,å¯ä»¥ä¸æ‰€æœ‰çš„ Java åº“å®ç°æ— ç¼ äº¤äº’ã€‚å®ƒä¹Ÿæ˜¯ç”¨æ¥ç¼–å†™è„š æŠŠ Java æ§ä»¶é“¾åœ¨ä¸€èµ·çš„å¾ˆå¥½çš„è¯­è¨€ã€‚ä½†æ˜¯ç”¨å®ƒæ¥å»ºç«‹å¤§ç³»ç»Ÿ å’Œå¯é‡ç”¨æ§ä»¶çš„æ¶æ„å°†æ›´èƒ½å¤Ÿå‘æŒ¥å®ƒçš„åŠ›é‡ã€‚

Scalaä»‹ç»   ;Scalaæ˜¯åŸºäºJVMçš„ä¸€ç§ç¼–ç¨‹è¯­è¨€
1.Scalaçš„å…­å¤§ç‰¹å¾

1. Javaå’ŒScalaå¯ä»¥æ— ç¼è¡”æ¥

2. ç±»å‹æ¨æµ‹ï¼ˆè‡ªåŠ¨æ¨æµ‹ç±»å‹ï¼‰

3. å¹¶å‘å’Œåˆ†å¸ƒå¼ï¼ˆActorï¼‰

4. ç‰¹è´¨ï¼ˆtraitï¼‰ï¼Œç‰¹å¾ï¼ˆç±»ä¼¼äºjavaä¸­interfaceså’Œabstractç»“åˆï¼‰

5. æ¨¡å¼åŒ¹é…ï¼ˆç±»ä¼¼äºjavaä¸­çš„switchï¼‰

6. é«˜é˜¶å‡½æ•°

```
1. Scalaçš„å®‰è£…

   1.ç¯å¢ƒå˜é‡
   1.å®˜ç½‘ä¸‹è½½scalaï¼šhttps://www.scala-lang.org/download/all.html
   2.è§£å‹zipæˆ–åŒå‡»msiåŒ…
   æŸ¥çœ‹ç‰ˆæœ¬å·scala -version

2.å¼€å‘ç¯å¢ƒ
æ–¹æ³•ä¸€ï¼š
       1.ä¸‹è½½scalaæ’ä»¶ï¼ˆå¯¹åº”eclipseç‰ˆæœ¬ï¼‰ï¼šhttp://scala-ide.org/download/prev-stable.html
       2.è§£å‹zipï¼Œå°†featureså’Œpluginsæ–‡ä»¶å¤¹æ‹·è´åˆ°eclipseå®‰è£…ç›®å½•ä¸‹çš„dropins/scalaã€‚è‹¥æ²¡æœ‰è¯¥ç›®å½•ï¼Œè‡ªè¡Œåˆ›å»º
       
   æ–¹æ³•äºŒï¼š
       è¥¿åœ¨Scala IDEï¼šhttp://scala-ide.org/download/sdk.html
   æ–¹æ³•ä¸‰ï¼š
       1.å®‰è£…IDEA
       2.æ‰“å¼€IDEAï¼Œç‚¹å‡»Configure->Pluginsï¼Œæœç´¢Scalaï¼Œç‚¹å‡»Installå®‰è£…
       3.è®¾ç½®JDKï¼Œç‚¹å‡»Configure->Project Defaults->Project Structure
       4.åˆ›å»ºScalaé¡¹ç›®ï¼Œç‚¹å‡»Create New Project->Scala->Scalaã€‚
   5.æ›´æ”¹SDKç‰ˆæœ¬å·ï¼Œç‚¹å‡»Browseï¼Œé€‰æ‹©æœ¬åœ°å®‰è£…çš„Scalaç›®å½•ï¼Œé€‰æ‹©System
   
```

**ScalaåŸºç¡€**

- `Byte` `Char` `Short` `Int` `Long` `Float` `Double` `Boolean` è¿™äº›éƒ½æ˜¯ç±»
- String: ä½¿ç”¨åº•å±‚çš„ `java.lang.String` è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œä½†é€šè¿‡ `StringOps` ç±»ä¸ºå­—ç¬¦ä¸²è¿½åŠ ä¸Šç™¾ç§æ“ä½œ

|æ•°æ®ç±»å‹|æè¿°|
|-|-|
|Byte	|8bitçš„æœ‰ç¬¦å·æ•°å­—|
|Short|	16 bit æœ‰ç¬¦å·çš„æ•°å­—|
|Int	|32 bit æœ‰ç¬¦å·çš„æ•°æ®|
|Long|	64 bit æœ‰ç¬¦å·çš„æ•°å­—|
|Float	|32 bit IEEE 754 å•ç²¾åº¦æµ®ç‚¹æ•°|
|Double	|64 bit IEEE 754 åŒç²¾åº¦æµ®ç‚¹æ•°|
|Char|	16 bit Unicodeå­—ç¬¦|
|String|	å­—ç¬¦ä¸²|
|Boolean|	å¸ƒå°”ç±»å‹|
|Unit|	è¡¨ç¤ºæ— å€¼ï¼Œå’Œå…¶ä»–è¯­è¨€ä¸­voidç­‰åŒ|
|Null	|ç©ºå€¼æˆ–è€…ç©ºå¼•ç”¨ã€‚Traitï¼Œå…¶å”¯ä¸€å®ä¾‹æ˜¯nullï¼Œæ˜¯AnyRefçš„å­ç±»|
|Nothing|	æ‰€æœ‰å…¶ä»–ç±»å‹çš„å­ç±»å‹ï¼Œè¡¨ç¤ºæ²¡æœ‰å€¼ã€‚Traitï¼Œæ‰€æœ‰ç±»å‹ï¼ˆåŒ…æ‹¬AnyRefå’ŒAnyValï¼‰çš„å­ç±»ï¼Œæ²¡æœ‰å®ä¾‹|
|Any	|æ‰€æœ‰ç±»å‹çš„è¶…ç±»ï¼Œä»»ä½•å®ä¾‹éƒ½å±äºAnyç±»å‹|
|AnyRef|	æ‰€æœ‰å¼•ç”¨ç±»å‹çš„è¶…ç±»|
|AnyVal|	æ‰€æœ‰å€¼ç±»å‹çš„è¶…ç±»|
|None	|Optionçš„ä¸¤ä¸ªå­ç±»ä¹‹ä¸€ï¼Œå¦ä¸€ä¸ªæ˜¯Someï¼Œç”¨äºå®‰å…¨çš„å‡½æ•°è¿”å›å€¼|
|Nil	|é•¿åº¦ä¸º0çš„List|





2.å˜é‡å’Œå¸¸é‡çš„å£°æ˜
    å®šä¹‰å¸¸é‡æˆ–è€…å˜é‡çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥å†™ä¸Šè¿”å›çš„ç±»å‹ï¼Œä¸€èˆ¬çœç•¥ï¼Œå¦‚ï¼šval a;Int = 10

**å¸¸é‡ä¸å¯åœ¨èµ‹å€¼**

```
/**
 * å˜é‡ï¼šç”¨varå®šä¹‰ï¼Œå¯ä¿®æ”¹
 * å¸¸é‡ï¼šç”¨valå®šä¹‰ï¼Œä¸å¯ä¿®æ”¹
 * /
var age = 10
val name = "zhangsan"

```


3.ç±»å’Œå¯¹è±¡
åˆ›å»ºç±»

```
class Person{
  val name = "zhangsan"
  val age = 18
  def sayName() = {
    "my name is "+ name
  }
```



åˆ›å»ºå¯¹è±¡

```
object Lesson_Class {
   def main(args: Array[String]): Unit = {
    val person = new Person()
    println(person.age);
    println(person.sayName())
  }
}
```

```
ä¼´ç”Ÿç±»å’Œä¼´ç”Ÿå¯¹è±¡

class Person(xname :String , xage :Int){
  var name = Person.name
  val age = xage
  var gender = "m"
  def this(name:String,age:Int,g:String){
    this(name,age)
    gender = g
  }
  def sayName() = {
    "my name is "+ name
  }
}
object Person {
  val name = "zhangsanfeng"
  def main(args: Array[String]): Unit = {
    val person = new Person("wagnwu",10,"f")
    println(person.age);
    println(person.sayName())
    println(person.gender)
  }
}
```


å¦‚æœåœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œobjectå¯¹è±¡å’Œclassç±»çš„åç§°ç›¸åŒï¼Œåˆ™è¿™ä¸ªå¯¹è±¡å°±æ˜¯è¿™ä¸ªç±»çš„ä¼´ç”Ÿå¯¹è±¡ï¼Œè¿™ä¸ªç±»å°±æ˜¯è¿™ä¸ªå¯¹è±¡çš„ä¼´ç”Ÿç±»ã€‚å¯ä»¥äº’ç›¸è®¿é—®ç§æœ‰å˜é‡

Applyæ–¹æ³•

object ScalaDemo01 {
  def main(args: Array[String]): Unit = {
    val p = new Person("zs",19)
     val person = Person("wagnwu",10)
  }
}
class Person(xname :String , xage :Int){
  val name = "zs"
  val age = xage
  var gender = "m"
  def this(name:String,age:Int,g:String){
    this(name,age)
    gender = g
  }
}
object Person{
  def apply(name:String,age:Int)={
    new Person(name,age)
  }
}

ä½¿ç”¨applyæ–¹æ³•ï¼Œå®ç°å¯¹è±¡æ—¶å¯ä»¥ä¸ç”¨åŠ new
scalaä¸­objectæ—¶å•ä¾‹å¯¹è±¡ï¼Œç›¸å½“äºjavaä¸­çš„å·¥å…·ç±»ï¼Œå¯ä»¥çœ‹æˆæ˜¯å®šä¹‰é™æ€çš„æ–¹æ³•çš„ç±»ï¼Œobjectä¸å¯ä»¥ä¼ å‚æ•°ã€‚å¦å¤–ï¼ŒTraitä¸å¯ä»¥ä¼ å‚æ•°
Scalaä¸­çš„classç±»é»˜è®¤å¯ä»¥ä¼ å‚æ•°ï¼Œé»˜è®¤çš„ä¼ å‚æ•°å°±æ˜¯é»˜è®¤çš„æ„é€ å‡½æ•°ã€‚é‡å†™æ„é€ å‡½æ•°çš„æ—¶å€™ï¼Œå¿…é¡»è°ƒç”¨é»˜è®¤çš„æ„é€ å‡½æ•°ã€‚
classç±»å±æ€§è‡ªå¸¦getterã€setteræ–¹æ³•
ä½¿ç”¨objectæ—¶ï¼Œä¸ç”¨newï¼›ä½¿ç”¨classæ—¶è¦ç”¨newï¼Œå¹¶ä¸”newçš„æ—¶å€™ï¼Œclassä¸­é™¤äº†æ–¹æ³•ä¸æ‰§è¡Œï¼Œå…¶ä»–éƒ½åªæ‰§è¡Œ

**4.åˆ¤æ–­**ifâ€¦else

```

val age =18 
if (age < 18 ){
	println("no allow")
}else if (18<=age&&age<=20){
	println("å…è®¸ä¸å…¶ä»–")
}else{
	println("å…è®¸è‡ªæˆ‘")
	}
```



**5.å¾ªç¯**

â€‹    forã€whileã€doâ€¦while

1.toå’Œuntil

```
/**
 * 1 to 10 è¿”å›1åˆ°10çš„Rangeæ•°ç»„ï¼ŒåŒ…å«10
 * 1 until 10 è¿”å›1åˆ°10 Rangeæ•°ç»„ ï¼Œä¸åŒ…å«10
 */

println(1 to 10 )//æ‰“å° 1, 2, 3, 4, 5, 6, 7, 8, 9, 10
res10: scalaé›†åˆä¸å¯å˜èŒƒå›´åŒ…å«= Range 1 to 10
res10: scala.collection.immutable.Range.Inclusive 


println(1.to(10))//ä¸ä¸Šé¢ç­‰ä»·ï¼Œæ‰“å° 1, 2, 3, 4, 5, 6, 7, 8, 9, 10

println(1 to (10 ,2))//æ­¥é•¿ä¸º2ï¼Œä»1å¼€å§‹æ‰“å° ï¼Œ1,3,5,7,9
println(1.to(10, 2)) 

println(1 until 10 ) //ä¸åŒ…å«æœ€åä¸€ä¸ªæ•°ï¼Œæ‰“å° 1,2,3,4,5,6,7,8,9
println(1.until(10))//ä¸ä¸Šé¢ç­‰ä»·
println(1 until (10 ,3 ))//æ­¥é•¿ä¸º2ï¼Œä»1å¼€å§‹æ‰“å°ï¼Œæ‰“å°1,4,7

```





for å¾ªç¯

```
/**
 * for å¾ªç¯
 * scalaä¸­ ä¸èƒ½å†™count++ count-- åªèƒ½å†™count+
 */
for( i <- 1 to 10 ){
  println(i)
}
/**
* å¤šå±‚forå¾ªç¯
 * å¯ä»¥åˆ†å·éš”å¼€ï¼Œå†™å…¥å¤šä¸ªlistèµ‹å€¼çš„å˜é‡ï¼Œæ„æˆå¤šå±‚forå¾ªç¯
 * /
//ä¾‹å­ï¼š æ‰“å°å°ä¹ä¹
for(i <- 1 until 10 ;j <- 1 until 10){
  if(i>=j){
	  print(i +" * " + j + " = "+ i*j+"	")
  }
  if(i==j ){
    println()
  }
}
 /**
 * å¯ä»¥åœ¨forå¾ªç¯ä¸­åŠ å…¥æ¡ä»¶åˆ¤æ–­
 * /
for(i<- 1 to 10 ;if (i%2) == 0 ;if (i == 4) ){
  println(i)
}
/**
 * å°†forä¸­çš„ç¬¦åˆæ¡ä»¶çš„å…ƒç´ é€šè¿‡yieldå…³é”®å­—è¿”å›æˆä¸€ä¸ªé›†åˆ
 */
 val list = for(i <- 1 to 10  ; if(i > 5 )) yield i

```



3.whileå¾ªç¯



```
/**
 * while å¾ªç¯
 */
var index = 0 
while(index < 100 ){
	println("ç¬¬"+index+"æ¬¡while å¾ªç¯")
  index += 1 
}
index = 0 
do{
	index +=1 
	println("ç¬¬"+index+"æ¬¡do while å¾ªç¯")
}while(index <100 )

```


**Scalaå‡½æ•°**
1.å®šä¹‰
Scalaå‡½æ•°æ ¹æ®æœ‰æ— å‚æ•°åˆ’åˆ†ä¸ºæœ‰å‚å‡½æ•°å’Œæ— å‚å‡½æ•°

```
/**
 * Scalaå‡½æ•°çš„å®šä¹‰
 */
def fun (a: Int , b: Int ) : Unit = {
   println(a+b)
 }
fun(1,1)
    
def fun1 (a : Int , b : Int)= a+b
    println(fun1(1,2))  

```



æ³¨æ„ï¼š
1.å‡½æ•°çš„å®šä¹‰è¯­æ³•ï¼Œç”¨defæ¥å®šä¹‰
2.å¯ä»¥å®šä¹‰ä¼ å…¥çš„å‚æ•°ï¼Œè¦æŒ‡å®šä¼ å…¥å‚æ•°çš„ç±»å‹
3.æ–¹æ³•å¯ä»¥å†™è¿”å›å€¼çš„ç±»å‹ä¹Ÿå¯ä»¥ä¸å†™ï¼Œå‡½æ•°ä¼šæ ¹æ®è¿”å›å€¼è‡ªåŠ¨åˆ¤æ–­ï¼Œæœ‰æ—¶å€™ä¸èƒ½çœç•¥ï¼Œå¿…é¡»è¦å†™ï¼ï¼ï¼ä¾‹å¦‚ï¼šåœ¨é€’å½’å‡½æ•°ä¸­æˆ–è€…å‡½æ•°çš„è¿”å›å€¼æ˜¯å‡½æ•°ç±»å‹
4.Scalaä¸­å‡½æ•°æœ‰è¿”å›å€¼æ—¶ï¼Œå¯ä»¥å†™returnï¼Œä¹Ÿå¯ä»¥ä¸å†™returnã€‚å¦‚æœä¸å†™returnï¼Œä¼šå°†å‡½æ•°çš„æœ€åä¸€è¡Œå½“ä½œç»“æœè¿”å›ã€‚å½“å†™returnæ—¶ï¼Œå¿…é¡»è¦å†™å‡½æ•°çš„è¿”å›å€¼
5.å¦‚æœè¿”å›å€¼å¯ä»¥ä¸€è¡Œæå®šï¼Œå¯ä»¥å°†{}çœç•¥ä¸å†™
6.ä¼ é€’ç»™æ–¹æ³•çš„å‚æ•°å¯ä»¥åœ¨æ–¹æ³•ä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”scalaè§„å®šæ–¹æ³•çš„ä¼ è¿‡æ¥çš„å‚æ•°ä¸ºvalçš„ï¼Œä¸æ˜¯varçš„
7.å¦‚æœå»æ‰æ–¹æ³•ä½“å‰é¢çš„ç­‰å·ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•çš„è¿”å›ç±»å‹å¿…å®šæ˜¯Unitçš„ã€‚è¿™ç§è¯´æ³•æ— è®ºæ–¹æ³•ä½“é‡Œé¢ä»€ä¹ˆé€»è¾‘éƒ½æˆç«‹ï¼Œscalaå¯ä»¥æŠŠä»»æ„ç±»å‹è½¬æ¢ä¸ºUnitã€‚å‡è®¾ï¼Œé‡Œé¢çš„é€»è¾‘æœ€åè¿”å›äº†ä¸€ä¸ªStringï¼Œé‚£ä¹ˆè¿™ä¸ªè¿”å›å€¼ä¼šè¢«è½¬æ¢ä½Unitï¼Œå¹¶ä¸”å€¼ä¼šè¢«ä¸¢å¼ƒ

2.é€’å½’å‡½æ•°

```scala
 /**
   * é€’å½’å‡½æ•° 
   * 5çš„é˜¶ä¹˜
   */
 def fun2(num :Int) :Int= {
    if(num ==1)
      num
    else 
      num * fun2(num-1)
	}
 print(fun2(5))

```



3.åŒ…å«å‚æ•°é»˜è®¤å€¼çš„å‡½æ•°

```scala
   /**
     * åŒ…å«é»˜è®¤å‚æ•°å€¼çš„å‡½æ•°
     */
    def fun3(a :Int = 10,b:Int) = {
      println(a+b)
    }
    fun3(b=2)

```



1.é»˜è®¤å€¼çš„å‡½æ•°ä¸­ï¼Œå¦‚æœä¼ å…¥çš„å‚æ•°ä¸ªæ•°ä¸å‡½æ•°å®šä¹‰ç›¸åŒï¼Œåˆ™ä¼ å…¥çš„æ•°å€¼ä¼šè¦†ç›–é»˜è®¤å€¼
2.å¦‚æœä¸æƒ³è¦†ç›–é»˜è®¤å€¼ï¼Œä¼ å…¥çš„å‚æ•°ä¸ªæ•°å°äºå®šä¹‰çš„å‡½æ•°çš„å‚æ•°ï¼Œåˆ™éœ€è¦æŒ‡å®šå‚æ•°åç§°

**4.å¯å˜å‚æ•°ä¸ªæ•°çš„å‡½æ•°**
ç”¨é€—å·éš”å¼€

```
   /**
     * åŒ…å«é»˜è®¤å‚æ•°å€¼çš„å‡½æ•°
     */
    def fun3(a :Int = 10,b:Int) = {
      println(a+b)
    }
    fun3(b=2)

```



**5.åŒ¿åå‡½æ•°**
åŒ¿åå‡½æ•°ä¸èƒ½æ˜¾å¼å£°æ˜å‡½æ•°çš„è¿”å›ç±»å‹

```
    /**
     * åŒ¿åå‡½æ•°
     * æ³¨æ„ï¼š
     * å¯ä»¥å°†åŒ¿åå‡½æ•°è¿”å›ç»™å®šä¹‰çš„ä¸€ä¸ªå˜é‡
     */
    //æœ‰å‚æ•°åŒ¿åå‡½æ•°
    val value1 = (a : Int) => {
      println(a)
    }
    value1(1)
    //æ— å‚æ•°åŒ¿åå‡½æ•°
    val value2 = ()=>{
      println("æˆ‘çˆ±Angelababy")
    }
    value2()
    //æœ‰è¿”å›å€¼çš„åŒ¿åå‡½æ•°
    val value3 = (a:Int,b:Int) =>{
      a+b
    }
    println(value3(4,4)) 

```



6.åµŒå¥—å‡½æ•°

```
    /**
     * åµŒå¥—å‡½æ•°
     * ä¾‹å¦‚ï¼šåµŒå¥—å‡½æ•°æ±‚5çš„é˜¶ä¹˜
     */
    def fun5(num:Int)={
      def fun6(a:Int,b:Int):Int={
        if(a == 1){
          b
        }else{
          fun6(a-1,a*b)
        }
      }
      fun6(num,1)
    }
    println(fun5(5))

```



7.ååº”ç”¨å‡½æ•°
ååº”ç”¨å‡½æ•°æ˜¯ä¸€ç§è¡¨è¾¾å¼ï¼Œä¸éœ€è¦æä¾›å‡½æ•°éœ€è¦çš„æ‰€æœ‰å‚æ•°ï¼Œåªéœ€è¦æä¾›éƒ¨åˆ†ï¼Œæˆ–ä¸æä¾›æ‰€éœ€å‚æ•°ã€‚

```
    /**
     * ååº”ç”¨å‡½æ•°
     */
    def log(date :Date, s :String)= {
      println("date is "+ date +",log is "+ s)
    }
    
    val date = new Date()
    log(date ,"log1")
    log(date ,"log2")
    log(date ,"log3")
    
    //æƒ³è¦è°ƒç”¨logï¼Œä»¥ä¸Šå˜åŒ–çš„æ˜¯ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¯ä»¥ç”¨ååº”ç”¨å‡½æ•°å¤„ç†
    val logWithDate = log(date,_:String)
    logWithDate("log11")
    logWithDate("log22")
    logWithDate("log33")

```





8.é«˜é˜¶å‡½æ•°
å‡½æ•°çš„å‚æ•°æ˜¯å‡½æ•°ï¼Œæˆ–è€…å‡½æ•°çš„è¿”å›ç±»å‹æ˜¯å‡½æ•°ï¼Œæˆ–è€…å‡½æ•°çš„å‚æ•°å’Œå‡½æ•°çš„è¿”å›ç±»å‹æ˜¯å‡½æ•°çš„å‡½æ•°ã€‚

å‡½æ•°çš„å‚æ•°æ˜¯å‡½æ•°
å‡½æ•°çš„è¿”å›æ—¶å‡½æ•°
å‡½æ•°çš„å‚æ•°å’Œè¿”å›éƒ½æ˜¯å‡½æ•°

    /**
     * é«˜é˜¶å‡½æ•°
     */
    //å‡½æ•°çš„å‚æ•°æ˜¯å‡½æ•°
    def hightFun(f : (Int,Int) =>Int, a:Int ) : Int = {
      f(a,100)
    }
    def f(v1 :Int,v2: Int):Int  = {
      v1+v2
    }
    println(hightFun(f, 1))
    //å‡½æ•°çš„è¿”å›æ˜¯å‡½æ•°
    //1ï¼Œ2,3,4ç›¸åŠ 
    def hightFun2(a : Int,b:Int) : (Int,Int)=>Int = {
      def f2 (v1: Int,v2:Int) :Int = {
        v1+v2+a+b
      }
      f2
    }
    println(hightFun2(1,2)(3,4))
    //å‡½æ•°çš„å‚æ•°æ˜¯å‡½æ•°ï¼Œå‡½æ•°çš„è¿”å›æ˜¯å‡½æ•°
    def hightFun3(f : (Int ,Int) => Int) : (Int,Int) => Int = {
      f
    } 
    println(hightFun3(f)(100,200))
    println(hightFun3((a,b) =>{a+b})(200,200))
    //ä»¥ä¸Šè¿™å¥è¯è¿˜å¯ä»¥å†™æˆè¿™æ ·
    //å¦‚æœå‡½æ•°çš„å‚æ•°åœ¨æ–¹æ³•ä½“ä¸­åªä½¿ç”¨äº†ä¸€æ¬¡ é‚£ä¹ˆå¯ä»¥å†™æˆ_è¡¨ç¤º
    println(hightFun3(_+_)(200,200))

9.æŸ¯é‡ŒåŒ–å‡½æ•°
    å¯ä»¥ç†è§£ä¸ºé«˜é˜¶å‡½æ•°çš„ç®€åŒ–

```
   /**
     * æŸ¯é‡ŒåŒ–å‡½æ•°
     */
    def fun7(a :Int,b:Int)(c:Int,d:Int) = {
      a+b+c+d
    }
    println(fun7(1,2)(3,4))

```





 



**å­—ç¬¦ä¸²**
1.String
2.StringBuilder å¯å˜é•¿åº¦

```
    /**
     * String && StringBuilder
     */
    val str = "abcd"
    val str1 = "ABCD"
    
    println(str.indexOf(97))
    println(str.indexOf("b"))

    println(str==str1)
    /**
     * compareToIgnoreCase
     * 
     * å¦‚æœå‚æ•°å­—ç¬¦ä¸²ç­‰äºæ­¤å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›å€¼ 0ï¼›
     * å¦‚æœæ­¤å­—ç¬¦ä¸²å°äºå­—ç¬¦ä¸²å‚æ•°ï¼Œåˆ™è¿”å›ä¸€ä¸ªå°äº 0 çš„å€¼ï¼›
     * å¦‚æœæ­¤å­—ç¬¦ä¸²å¤§äºå­—ç¬¦ä¸²å‚æ•°ï¼Œåˆ™è¿”å›ä¸€ä¸ªå¤§äº 0 çš„å€¼ã€‚
     * 
     */
    println(str.compareToIgnoreCase(str1))
    
    val strBuilder = new StringBuilder
    strBuilder.append("abc")
//    strBuilder.+('d')
    strBuilder+ 'd'
//    strBuilder.++=("efg")
    strBuilder++= "efg" 
//    strBuilder.+=('h')
    strBuilder+= 'h' 
    strBuilder.append(1.0)
    strBuilder.append(18f)
    println(strBuilder)

```







**é›†åˆ**
1.æ•°ç»„
1.åˆ›å»ºæ•°ç»„

```scala
   /**
     * åˆ›å»ºæ•°ç»„ä¸¤ç§æ–¹å¼ï¼š
     * 1.new Array[String](3)
     * 2.ç›´æ¥Array
     */
    //åˆ›å»ºç±»å‹ä¸ºInt é•¿åº¦ä¸º3çš„æ•°ç»„
    val arr1 = new Array[Int](3)
    //åˆ›å»ºString ç±»å‹çš„æ•°ç»„ï¼Œç›´æ¥èµ‹å€¼
    val arr2 = Array[String]("s100","s200","s300")
    //èµ‹å€¼
    arr1(0) = 100
    arr1(1) = 200
    arr1(2) = 300

```




2.éå†æ•°ç»„

        /**
         * éå†ä¸¤ç§æ–¹å¼
         */
        for(i <- arr1){
        	  println(i)
        }
        arr1.foreach(i => {
          println(i)
        })
        for(s <- arr2){
          println(s)
        }
        arr2.foreach { 
          x => println(x) 
        }


**3.äºŒç»´æ•°ç»„**

    /**
     * åˆ›å»ºäºŒç»´æ•°ç»„å’Œéå†
     */
    val arr3 = new Array[Array[String]](3)
    arr3(0)=Array("1","2","3")
    arr3(1)=Array("4","5","6")
    arr3(2)=Array("7","8","9")
    for(i <- 0 until arr3.length){
      for(j <- 0 until arr3(i).length){
        print(arr3(i)(j)+"	")
      }
      println()
    }
    
    var count = 0
    for(arr <- arr3 ;i <- arr){
      if(count%3 == 0){
        println()
      }
      print(i+"	")
      count +=1 
    }
    
    arr3.foreach { arr  => {
      arr.foreach { println }
    }}
    
    val arr4 = Array[Array[Int]](Array(1,2,3),Array(4,5,6))
    arr4.foreach { arr => {
      arr.foreach(i => {
        println(i)
      })
    }}
    println("-------")
    for(arr <- arr4;i <- arr){
      println(i)
    }
**2.List**

```
    //åˆ›å»º
    val list = List(1,2,3,4,5)
    
    //éå†
    list.foreach { x => println(x)}
//    list.foreach { println}
	/**
	 * listæ–¹æ³•
	 */
    //filter
    val list1  = list.filter { x => x>3 }
    list1.foreach { println}
    
    //count
    val value = list1.count { x => x>3 }
    println(value)
    
    //map
    val nameList = List(
    		"hello bjsxt",
    		"hello xasxt",
    		"hello shsxt"
        )
    val mapResult:List[Array[String]] = nameList.map{ x => x.split(" ") }
    mapResult.foreach{println}    
    
    //flatmap
    val flatMapResult : List[String] = nameList.flatMap{ x => x.split(" ") }
    flatMapResult.foreach { println }

```

**3.Set**

```
//åˆ›å»º 
val set1 = Set(1,2,3,4,4)
val set2 = Set(1,2,5)
//éå†
//æ³¨æ„ï¼šsetä¼šè‡ªåŠ¨å»é‡
set1.foreach { println}
   for(s <- set1){
      println(s)
    }
    println("*******")

   /**
    * Setæ–¹æ³•ä¸¾ä¾‹
    */    
   //äº¤é›†
   val set3 = set1.intersect(set2)
   set3.foreach{println}
   val set4 = set1.&(set2)
   set4.foreach{println}
   println("*******")
   //å·®é›†
   set1.diff(set2).foreach { println }
   set1.&~(set2).foreach { println }
   //å­é›†
   set1.subsetOf(set2)
   //æœ€å¤§å€¼
   println(set1.max)
   //æœ€å°å€¼
   println(set1.min)
   println("****")
   //è½¬æˆæ•°ç»„ï¼Œlist
   set1.toArray.foreach{println}
   println("****")
   set1.toList.foreach{println}
   //mkString
   println(set1.mkString)
   println(set1.mkString("\t"))

```




**4.Map**
1.Mapåˆ›å»º

```
val map = Map(
  "1" -> "bjsxt",
  2 -> "shsxt",
  (3,"xasxt")
)

```



æ³¨æ„ ï¼šåˆ›å»ºmapæ—¶ï¼Œç›¸åŒkeyè¢«åé¢çš„ç›¸åŒçš„keyé¡¶æ›¿æ‰ï¼Œåªä¿ç•™ä¸€ä¸ª
2.è·å–å€¼

```
println(map.get("1").get)
// getOrElseï¼šå¦‚æœmapä¸­æ²¡æœ‰å¯¹åº”é¡¹ï¼Œèµ‹å€¼ä¸ºgetOrElseä¼ çš„å€¼
val result = map.get(8).getOrElse("no value")
println(result)

```



3.Mapéå†

```
//éå†key
val keyIterable = map.keys
keyIterable.foreach { key => {
  println("key:"+key+", value:"+map.get(key).get)
} }
println("---------")

```



4.keyéå†

```
//éå†key
val keyIterable = map.keys
keyIterable.foreach { key => {
  println("key:"+key+", value:"+map.get(key).get)
} }
println("---------")

```



5.valueéå†

```
//éå†value
val valueIterable = map.values
valueIterable.foreach { value => {
  println("value: "+ value)
} }
```



6.mapåˆå¹¶



```
/**
 * åˆå¹¶map
 * ++   ä¾‹ï¼šmap1.++(map2)     map1ä¸­åŠ å…¥map2
 * ++:  ä¾‹ï¼šmap1.++:(map2)    map2ä¸­åŠ å…¥map1
 */
val map1 = Map(
  (1,"a"),    
  (2,"b"),    
  (3,"c")    
)
val map2 = Map(
  (1,"aa"),
  (2,"bb"),
  (2,90),
  (4,22),
  (4,"dd")
)
map1.++:(map2).foreach(println)     

```




æ³¨æ„ï¼šåˆå¹¶mapä¼šå°†mapä¸­çš„ç›¸åŒkeyçš„valueæ›¿æ¢
**7.mapæ–¹æ³•**

```
//count
val countResult  = map.count(p => {
  p._2.equals("shsxt")
})
println(countResult)
//filter
map.filter(_._2.equals("shsxt")).foreach(println)
//containsï¼šmapä¸­æ˜¯å¦åŒ…å«æŸä¸ªkey
println(map.contains(2))
//existï¼šç¬¦åˆæ¡ä»¶çš„è®°å½•å­˜åœ¨ä¸å­˜åœ¨
println(map.exists(f =>{
  f._2.equals("Angelababy")
}))

```



**5.å…ƒç»„**
1.å®šä¹‰
     ä¸åˆ—è¡¨ä¸€æ ·ï¼Œä¸åˆ—è¡¨ä¸åŒçš„æ˜¯å…ƒç»„å¯ä»¥åŒ…å«ä¸åŒç±»å‹çš„å…ƒç´ ã€‚å…ƒç»„çš„å€¼æ˜¯é€šè¿‡å°†å•ä¸ªçš„å€¼åŒ…å«åœ¨åœ†æ‹¬å·ä¸­æ„æˆçš„
2.å…ƒç»„åˆ›å»ºä¸å–å€¼

```
/**
 * åˆ›å»ºï¼Œæœ€å¤šæ”¯æŒ22ä¸ª
 * å¯ä»¥ä½¿ç”¨newï¼Œå¯ä»¥ä¸é€‚ç”¨new
 */
val tuple = new Tuple1(1)
val tuple2 = Tuple2("zhangsan",2)
val tuple3 = Tuple3(1,2,3)
val tuple4 = (1,2,3,4)
val tuple18 = Tuple18(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18)
val tuple22 = new Tuple22(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22)

//ä½¿ç”¨
//å–å€¼ç”¨"._XX"å¯ä»¥è·å–å…ƒç»„ä¸­çš„å€¼
println(tuple2._1 + "\t"+tuple2._2)
val t = Tuple2((1,2),("zhangsan","lisi"))
println(t._1._2)

```


tupleæœ€å¤šæ”¯æŒ22ä¸ªå‚æ•°

3.å…ƒç»„çš„éå†
     å…ˆè·å–è¿­ä»£å™¨ï¼Œç„¶åå†éå†

```
//éå†
val tupleIterator = tuple22.productIterator
while(tupleIterator.hasNext){
  println(tupleIterator.next())
}

```

**4.å…ƒç»„çš„å¸¸ç”¨æ–¹æ³•**

```
//ç¿»è½¬ï¼Œåªé’ˆå¯¹äºŒå…ƒç»„
println(tuple2.swap)
//toString
println(tuple3.toString())

```




**Trait**
1.æ¦‚å¿µç†è§£
    Scala Trait(ç‰¹å¾)ç›¸å½“äºJavaçš„æ¥å£ï¼Œå®é™…ä¸Šå®ƒæ¯”æ¥å£åŠŸèƒ½å¼ºå¤§ã€‚å¯ä»¥å®šä¹‰å±æ€§å’Œæ–¹æ³•çš„å®ç°ã€‚
    ä¸€èˆ¬æƒ…å†µä¸‹Scalaçš„ç±»å¯ä»¥ç»§æ‰¿å¤šä¸ªTraitï¼Œä»ç»“æœæ¥çœ‹å°±æ˜¯å®ç°äº†å¤šé‡ç»§æ‰¿
    Trait(ç‰¹å¾)å®šä¹‰çš„æ–¹å¼ä¸ç±»ç±»ä¼¼ï¼Œä½¿ç”¨å…³é”®å­—trait

2.ä¾‹å­ï¼štraitä¸­å¸¦å±æ€§å¸¦æ–¹æ³•å®ç°

```scala
trait Read {
  val readType = "Read"
  val gender = "m"
  def read(name:String){
	println(name+" is reading")
  }
}

trait Listen {
  val listenType = "Listen"
  val gender = "m"
  def listen(name:String){
	println(name + " is listenning")
  }
}

class Person() extends Read with Listen{
  override val gender = "f"
}

object test {
  def main(args: Array[String]): Unit = {
    val person = new Person()
    person.read("zhangsan")
    person.listen("lisi")
    println(person.listenType)
    println(person.readType)
    println(person.gender)
    
  }
}

```




æ³¨æ„ï¼š
ç»§æ‰¿çš„å¤šä¸ªtraitä¸­å¦‚æœæœ‰åŒåçš„æ–¹æ³•å’Œå±æ€§ï¼Œå¿…é¡»è¦åœ¨ç±»ä¸­ä½¿ç”¨â€œoverrideâ€é‡æ–°å®šä¹‰
traitä¸å¯ä»¥ä¼ å‚æ•°

3.ä¾‹å­ï¼štraitä¸­å¸¦æ–¹æ³•ä¸å®ç°

```scala
object Lesson_Trait2 {
  def main(args: Array[String]): Unit = {
    val p1 = new Point(1,2)
    val p2 = new Point(1,3)
    println(p1.isEqule(p2))
    println(p1.isNotEqule(p2))
  }
}

trait Equle{
  def isEqule(x:Any) :Boolean 
  def isNotEqule(x : Any)  = {
    !isEqule(x)
  }
}

class Point(x:Int, y:Int) extends Equle {
  val xx = x
  val yy = y

  def isEqule(p:Any) = {
    p.isInstanceOf[Point] && p.asInstanceOf[Point].xx==xx
  }
}

```

**æ¨¡å¼åŒ¹é… match**
1.æ¦‚å¿µç†è§£
    æ¨¡å¼åŒ¹é…ä½¿ç”¨å…³é”®å­—matchï¼Œä¸€ä¸ªæ¨¡å¼åŒ¹é…åŒ…å«äº†ä¸€ç³»åˆ—å¤‡é€‰é¡¹ã€‚æ¯ä¸ªå¤‡é€‰é¡¹éƒ½åŒ…å«äº†ä¸€ä¸ªæ¨¡å¼åŠä¸€åˆ°å¤šä¸ªè¡¨è¾¾å¼ã€‚ç®­å¤´ç¬¦å·=>éš”å¼€äº†æ¨¡å¼å’Œè¡¨è¾¾å¼
2.æ³¨æ„
æ¨¡å¼åŒ¹é…ä¸ä»…å¯ä»¥åŒ¹é…å€¼è¿˜å¯ä»¥åŒ¹é…ç±»å‹
æŒ‰ç…§ä»ä¸Šå‘ä¸‹çš„é¡ºåºåŒ¹é…ï¼Œå¦‚æœåŒ¹é…åˆ°åˆ™ä¸å†å¾€ä¸‹åŒ¹é…ã€‚å¦‚æœéƒ½åŒ¹é…ä¸ä¸Šï¼Œä¼šåŒ¹é…åˆ°case_ï¼Œç›¸å½“äºdefault
matchçš„æœ€å¤–é¢çš„"{}"å¯ä»¥å»æ‰çœ‹æˆä¸€ä¸ªè¯­å¥

```
object Lesson_Match {
  def main(args: Array[String]): Unit = {
    val tuple = Tuple6(1,2,3f,4,"abc",55d)
    val tupleIterator = tuple.productIterator
    while(tupleIterator.hasNext){
      matchTest(tupleIterator.next())
    }
  }
  def matchTest(x:Any) ={
    x match {
      case x:Int=> println("type is Int")
      case 1 => println("result is 1")
      case 2 => println("result is 2")
      case 3=> println("result is 3")
      case 4 => println("result is 4")
      case x:String => println("type is String")
//      case x :Double => println("type is Double")
      case _ => println("no match")
    }
  }
}

```



**æ ·ä¾‹ç±»(case class)**
1.æ¦‚å¿µç†è§£
    ä½¿ç”¨äº†caseå…³é”®å­—çš„ç±»å®šä¹‰å°±æ˜¯æ ·ä¾‹ç±»(case classes)ï¼Œæ ·ä¾‹ç±»æ˜¯ç§ç‰¹æ®Šçš„ç±»ã€‚å®ç°äº†ç±»æ„é€ å‚æ•°çš„getteræ–¹æ³•ï¼ˆæ„é€ å‚æ•°é»˜è®¤è¢«å£°æ˜ä¸ºvalï¼‰ï¼Œå½“æ„é€ å‚æ•°æ˜¯å£°æ˜ä¸ºvarç±»å‹çš„ï¼Œå®ƒå°†å¸®ä½ å®ç°setterå’Œgetteræ–¹æ³•ã€‚
    æ ·ä¾‹ç±»é»˜è®¤å¸®ä½ å®ç°äº†toString,equalsï¼Œcopyå’ŒhashCodeç­‰æ–¹æ³•ã€‚
    æ ·ä¾‹ç±»å¯ä»¥new, ä¹Ÿå¯ä»¥ä¸ç”¨new;



```
case class Person1(name:String,age:Int)

object Lesson_CaseClass {
  def main(args: Array[String]): Unit = {
    val p1 = new Person1("zhangsan",10)
    val p2 = Person1("lisi",20)
    val p3 = Person1("wangwu",30)
    
    val list = List(p1,p2,p3)
    list.foreach { x => {
      x match {
        case Person1("zhangsan",10) => println("zhangsan")
        case Person1("lisi",20) => println("lisi")
        case _ => println("no match")
      }
    } }
  }
}

```


**Actor Model**
1.æ¦‚å¿µç†è§£
    Actor Modelæ˜¯ç”¨æ¥ç¼–å†™å¹¶è¡Œè®¡ç®—æˆ–åˆ†å¸ƒå¼ç³»ç»Ÿçš„é«˜å±‚æ¬¡æŠ½è±¡ï¼ˆç±»ä¼¼javaä¸­çš„Threadï¼‰è®©ç¨‹åºå‘˜ä¸å¿…ä¸ºå¤šçº¿ç¨‹æ¨¡å¼ä¸‹å…±äº«é”è€Œçƒ¦æ¼,è¢«ç”¨åœ¨Erlang è¯­è¨€ä¸Š, é«˜å¯ç”¨æ€§99.9999999 % ä¸€å¹´åªæœ‰31ms å®•æœºActorså°†çŠ¶æ€å’Œè¡Œä¸ºå°è£…åœ¨ä¸€ä¸ªè½»é‡çš„è¿›ç¨‹/çº¿ç¨‹ä¸­ï¼Œä½†æ˜¯ä¸å’Œå…¶ä»–Actorsåˆ†äº«çŠ¶æ€ï¼Œæ¯ä¸ªActorsæœ‰è‡ªå·±çš„ä¸–ç•Œè§‚ï¼Œå½“éœ€è¦å’Œå…¶ä»–Actorsäº¤äº’æ—¶ï¼Œé€šè¿‡å‘é€äº‹ä»¶å’Œæ¶ˆæ¯ï¼Œå‘é€æ˜¯å¼‚æ­¥çš„ï¼Œéå µå¡çš„(fire-andforget)ï¼Œå‘é€æ¶ˆæ¯åä¸å¿…ç­‰å¦å¤–Actorså›å¤ï¼Œä¹Ÿä¸å¿…æš‚åœï¼Œæ¯ä¸ªActorsæœ‰è‡ªå·±çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè¿›æ¥çš„æ¶ˆæ¯æŒ‰å…ˆæ¥ååˆ°æ’åˆ—ï¼Œè¿™å°±æœ‰å¾ˆå¥½çš„å¹¶å‘ç­–ç•¥å’Œå¯ä¼¸ç¼©æ€§ï¼Œå¯ä»¥å»ºç«‹æ€§èƒ½å¾ˆå¥½çš„äº‹ä»¶é©±åŠ¨ç³»ç»Ÿã€‚
2.Actorç‰¹å¾
    ActorModelæ˜¯æ¶ˆæ¯ä¼ é€’æ¨¡å‹,åŸºæœ¬ç‰¹å¾å°±æ˜¯æ¶ˆæ¯ä¼ é€’
    æ¶ˆæ¯å‘é€æ˜¯å¼‚æ­¥çš„ï¼Œéé˜»å¡çš„
    æ¶ˆæ¯ä¸€æ—¦å‘é€æˆåŠŸï¼Œä¸èƒ½ä¿®æ”¹
    Actorä¹‹é—´ä¼ é€’æ—¶ï¼Œè‡ªå·±å†³å®šå†³å®šå»æ£€æŸ¥æ¶ˆæ¯ï¼Œè€Œä¸æ˜¯ä¸€ç›´ç­‰å¾…ï¼Œæ˜¯å¼‚æ­¥éé˜»å¡çš„
3.ä»€ä¹ˆæ˜¯Akka
    Akka æ˜¯ä¸€ä¸ªç”¨ Scala ç¼–å†™çš„åº“ï¼Œç”¨äºç®€åŒ–ç¼–å†™å®¹é”™çš„ã€é«˜å¯ä¼¸ç¼©æ€§çš„ Java å’ŒScala çš„ Actor æ¨¡å‹åº”ç”¨ï¼Œåº•å±‚å®ç°å°±æ˜¯Actor,Akkaæ˜¯ä¸€ä¸ªå¼€å‘åº“å’Œè¿è¡Œç¯å¢ƒï¼Œå¯ä»¥ç”¨äºæ„å»ºé«˜å¹¶å‘ã€åˆ†å¸ƒå¼ã€å¯å®¹é”™ã€äº‹ä»¶é©±åŠ¨çš„åŸºäºJVMçš„åº”ç”¨ã€‚ä½¿æ„å»ºé«˜å¹¶å‘çš„åˆ†å¸ƒå¼åº”ç”¨æ›´åŠ å®¹æ˜“ã€‚
    spark1.6ç‰ˆæœ¬ä¹‹å‰ï¼Œsparkåˆ†å¸ƒå¼èŠ‚ç‚¹ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’ä½¿ç”¨çš„å°±æ˜¯Akkaï¼Œåº•å±‚ä¹Ÿå°±æ˜¯actorå®ç°çš„ã€‚1.6ä¹‹åä½¿ç”¨çš„nettyä¼ è¾“ã€‚
4.ä»£ç ç¤ºä¾‹

```scala
case class Message(actor:Actor,msg:Any)

class Actor1 extends Actor{
  def act(){
    while(true){
      receive{
        case  msg :Message => {
          println("i sava msg! = "+ msg.msg)
          
          msg.actor!"i love you too !"
          }
        case msg :String => println(msg)
        case  _ => println("default msg!")
      }
    }
  }
}

class Actor2(actor :Actor) extends Actor{
  actor ! Message(this,"i love you !")
	def act(){
		while(true){
			receive{
  			case msg :String => {
  			  if(msg.equals("i love you too !")){
  			    println(msg)
  			   actor! "could we have a date !"
  			  }
  			}
  			case  _ => println("default msg!")
			}
		}
	}
}

object Lesson_Actor2 {
  def main(args: Array[String]): Unit = {
    val actor1 = new Actor1()
    actor1.start()
    val actor2 = new Actor2(actor1)
    actor2.start()
  }
}

```




**éšå¼è½¬æ¢ç³»ç»Ÿ**
    éšå¼è½¬æ¢ï¼Œåœ¨ç¼–å†™ç¨‹åºçš„æ—¶å€™å¯ä»¥å°½é‡å°‘çš„å»ç¼–å†™ä»£ç ï¼Œè®©ç¼–è¯‘å™¨å»å°è¯•åœ¨ç¼–è¯‘æœŸé—´è‡ªåŠ¨æ¨å¯¼å‡ºè¿™äº›ä¿¡æ¯æ¥ï¼Œè¿™ç§ç‰¹æ€§å¯ä»¥æå¤§çš„å‡å°‘ä»£ç é‡ï¼Œæé«˜ä»£ç è´¨é‡

1.éšå¼å€¼

```
 //========================éšå¼å€¼==============================
def sayName(implicit name:String) = {
  println("say love to " + name)
}

implicit val name = "fanbingbing"
/**
 * not enough arguments for method sayName: (implicit name: String)Unit. Unspecified value parameter name.
 */

/**
 * ambiguous implicit values: both value a of type String and value name of type String match expected type String
 * éšå¼è½¬æ¢å¿…é¡»æ»¡è¶³æ— æ­§ä¹‰è§„åˆ™
 * åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸç¦æ­¢å£°æ˜ä¸¤ä¸ªç±»å‹ä¸€è‡´çš„å˜é‡ï¼Œé˜²æ­¢åœ¨æœç´¢çš„æ—¶å€™ä¼šçŠ¹è±«ä¸å†³
 * å£°æ˜éšå¼å‚æ•°çš„ç±»å‹æœ€å¥½æ˜¯è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œä¸è¦ä½¿ç”¨Int,Stringè¿™äº›å¸¸ç”¨ç±»å‹ï¼Œé˜²æ­¢ç¢°å·§å†²çª
 */
//    implicit val a = "hhh"
sayName
/**
 * å°†nameå˜é‡å£°æ˜ä¸ºimplicitï¼Œç¼–è¯‘å™¨åœ¨æ‰§è¡ŒsayNameæ–¹æ³•æ—¶å‘ç°ç¼ºå°‘ä¸€ä¸ªStringç±»å‹çš„å‚æ•°ï¼Œæ­¤æ—¶ä¼šæœç´¢ä½œç”¨åŸŸå†…ç±»å‹ä¸ºStringçš„éšå¼å€¼
		 å¹¶ä¸”å°†æœç´¢åˆ°çš„éšå¼å€¼ä½œä¸ºsayNameçš„å‚æ•°å€¼
 */

```




**2.éšå¼è§†å›¾**
éšå¼è½¬æ¢ä¸ºç›®æ ‡ç±»å‹ï¼šæŠŠä¸€ç§ç±»å‹è‡ªåŠ¨è½¬æ¢åˆ°å¦ä¸€ç§ç±»å‹

```scala
//========================éšå¼è§†å›¾  éšå¼è½¬æ¢ä¸ºç›®æ ‡ç±»å‹ï¼šæŠŠä¸€ç§ç±»å‹è‡ªåŠ¨è½¬æ¢åˆ°å¦ä¸€ç§ç±»å‹============================== 
 	def addNum(num:Int) = {
      num + 1000
    }
    implicit def stringToInt(num:String) = Integer.parseInt(num)
    //type mismatch; found : String("1000") required: Int
    println(addNum("1000")) 
//========================éšå¼è§†å›¾  é€šè¿‡éšå¼è½¬æ¢ï¼Œèƒ½è°ƒç”¨ç±»ä¸­æœ¬ä¸å­˜åœ¨çš„æ–¹æ³•==============================
    implicit def fJJtoXTT(f:FJJ) = new XTT
    //value jpContent is not a member of com.bjsxt.scala.FJJ
    val fjj = new FJJ()
	fjj.jpContent()
	class FJJ{
	}
	class XTT{
	  def jpContent() = {
	    println("nengdaiwochifanjiuhaole")
	  }
	}

```



3.éšå¼ç±»
1.æ³¨æ„
(1)å…¶æ‰€å¸¦çš„æ„é€ å‚æ•°æœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ª
(2)éšå¼ç±»å¿…é¡»è¢«å®šä¹‰åœ¨ç±»ï¼Œä¼´ç”Ÿå¯¹è±¡å’ŒåŒ…å¯¹è±¡é‡Œ
(3)éšå¼ç±»ä¸èƒ½æ˜¯case classï¼ˆcase classåœ¨å®šä¹‰ä¼šè‡ªåŠ¨ç”Ÿæˆä¼´ç”Ÿå¯¹è±¡ä¸2çŸ›ç›¾ï¼‰
(4)ä½œç”¨åŸŸå†…ä¸èƒ½æœ‰ä¸ä¹‹ç›¸åŒåç§°çš„æ ‡ç¤ºç¬¦

```scala
object Util{
	implicit class StringLength(val s: String){
		def getLength() = s.length
	}
}

import com.hpe.scala.Util.StringLength
println("abc".getLength())

```



æ–¹æ³•è°ƒç”¨æµç¨‹ï¼š
    ç¼–è¯‘å™¨åœ¨abcå¯¹è±¡è°ƒç”¨getLengthæ—¶å‘ç°å¯¹è±¡ä¸Šå¹¶æ²¡æœ‰getLengthæ–¹æ³•ï¼Œæ­¤æ—¶ç¼–è¯‘å™¨å°±ä¼šåœ¨ä½œç”¨åŸŸèŒƒå›´å†…æœç´¢éšå¼å®ä½“ï¼Œå‘ç°æœ‰ç¬¦åˆçš„éšå¼ç±»å¯ä»¥ç”¨æ¥è½¬æ¢æˆå¸¦æœ‰getLengthæ–¹æ³•çš„utilç±»ï¼Œæœ€ç»ˆè°ƒç”¨getLengthæ–¹æ³•





## å‚è€ƒæ–‡æ¡£

```
å®˜ç½‘
http://www.scala-lang.org/download/
Scalaå­¦ä¹ ç¬”è®°
https://www.jianshu.com/p/c16e0fae6ea2
```

