---
layout: post
title: "Js的测试练习"
date: 2019-12-03
tag: 学习
---





嘿嘿



```
//输出0到n之间的偶数
function printNum(n){
// ...
}
printNum(20)


//⽤用switch将对应数字转为星期⼀一、星期⼆二、...
function week(n){
// ...
}
week(1)



//加法计算
function add(a, b){
//
}
var num = add("1", "3")
console.log(num) // 4


//输出当前时间，格式为 yyyy-mm-dd hh:ii:ss


//计算当前时间与 2019-08-05 12:01:59 间隔的秒数
//验证是否⼿手机号,规则为 "1开头，共11位"
流程控制训练
数据类型转换
⽇日期时间
正则
定时器器
// 做⼀一个10秒倒计时，计时完成后，输出ok
var s = 10;
```



# 联系



```

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button type = "button" onclick="test1()"> n</button>
<p id = "呀呀呀">
    啥东西呀
</p>
<script>
    // document.write("<h1>这是一个标题</h1>>");
    // document.write("<h1>这是一个标题</h1>>");
    // // document.write("<h1>这是一个标题</h1>>")
    // document.write("<h1>这是一个标题</h1>>")
    // document.write("<p>这是一个标题</p>>")
    //
    // document.write('fdfds')  //会有一个返回
    // function test() {
    //     alert('sss')
    // }
    // function test1 (){
    //     // x = document.getElementById('呀呀呀')
    //     // x.innerHTML = "heihei"
    //     x = document.getElementById('呀呀呀')
    //     x = document.getElementsByName('ss')
    //     x.innerHTML = "heiheisssss"
    // }
    //
    //
    // x = document.getElementById('呀呀呀')
    // x.innerHTML = "heihei"


    // function test2() {
    //     element = document.getElementById('why')
    //     if(element.src.match('pp')){
    //         element.stc = 'p.jpg'
    //     }else {
    //         element.src = 'pp.jpg';
    //     }
    // }
</script>


</body>
</html>
```



灯泡亮不亮的问题

```
    <script>
        function changeImage()
        {
            element = document.getElementById('myimage')
            if (element.src.match("h"))
        {
            element.src="p.jpg";
        }
            else
        {
            element.src="h.jpg";
        }
        }
    </script>
<img id="myimage" onClick="changeImage()" src="p.jpg" width="100" height="180">
<p>点击灯泡就可以打开或关闭这盏灯</p>


</script>



-----------
<img id ="why" onclick = "test2()" src = "f.gif"  >
<script>
  function test2() {
        element = document.getElementById('why')
        console.log(element.src.match(/pp/g))
    		 console.log(element.src.match('pp'))
        console.log(element.src)
        if(element.src.match('pp')){
            element.src = 'f.gif';
            console.log('sssss')

        }else {
            element.src = 'pp.gif';
            console.log('kkkkkk')
        }
    }
    </script>
    
    
    返回值：null
0.html?_ijt=c2icarfc0681q84272q2m1o7s1:42 http://localhost:63342/code%E4%BB%A3%E7%A0%81/%E6%B5%8B%E8%AF%95/f.gif

match匹配的是，这个字符串，如果存在字符串 bulbon，图片 src 更新为 bulboff.gif，若匹配不到 bulbon 字符串，src 则更新为 bulbon.gif

```

### 不是数字isNaN

```
x = document.getElementById("demo")是 提取p段落标签中的
<p id = "demo" >啥东西呀</p>

x = document.getElementById('inp').value; 
取imput输入的值；不为空，或者要是数字
<input id = 'inp' type  = 'text'>
x == ""|| isNaN(x)
```





### isNaN

#### 第一：

如果 x 是特殊的非数字值 NaN（或者能被转换为这样的值），返回的值就是 true。如果 x 是其他值,则返回 false。

isNaN() 函数可用于判断其参数是否是 NaN，该值表示一个非法的数字（比如被 0 除后得到的结果）。

如果把 NaN 与任何值（包括其自身）相比得到的结果均是 false，所以要判断某个值是否是 NaN，不能使用 == 或 === 运算符。正因为如此，isNaN() 函数是必需的。

gouer   gouer  358***560@qq.com2年前 (2017-10-23)

#### 第二：

需要注意的是，isNaN() 函数其实并不能像它的描述中所写的那样，数字值返回 false，其他返回 true。

实际上，它是判断一个值能否被 Number() 合法地转化成数字。

这中间有什么区别呢，主要提现在一些特别的情况如下：

-  **1、数字形式的字符串**。例如 "123"、"-3.14"，虽然是字符串型，但被 isNaN() 判为数，返回 false。（"12,345,678"，"1.2.3" 这些返回 true）
-  **2、空值**。null、空字符串""、空数组[]，都可被Number()合法的转为0，于是被isNaN认为是数，返回false。（undefined、空对象{}、空函数等无法转数字，返回true）
-  **3、布尔值**。Number(true)=1,Number(false)=0，所以isNaN对布尔值也返回false。
-  **4、长度为 1 的数组**。结果取决于其中元素，即：isNaN([a])=isNaN(a)，可递归。例如isNaN([["1.5"]])=false。
-  **5、数字特殊形式**。例如"0xabc"、"2.5e+7"，这样的十六进制和科学计数法，即使是字符串也能转数字，所以也返回false。

总之，很多时候不能用单纯用 isNaN() 取判断。

比如一个空值或者数组，甚至是包含字母和符号的字符串，它都有可能告诉你这是数值。

```
document.write(isNaN(123)+ "<br>");
document.write(isNaN(-1.23)+ "<br>");
document.write(isNaN(5-2)+ "<br>");
document.write(isNaN(0)+ "<br>");
document.write(isNaN("Hello")+ "<br>");
document.write(isNaN("2005/12/12")+ "<br>");

false
false
false
false

true
true

a=" 2"
a.replace(/(^\s*)|(\s*$)/g,'')       
返回 "2"

/^\d+$/.test(200000777)    
true


isNaN("2  2")  这不是数字
true

isNaN("22")
false

isNaN(" 22  ")
false
```

### 卧槽！！输出不是数字的

```
 <button type = "button" onclick="test4()"> n</button>
<p id = "demo" >啥东西呀</p>
<input id = 'inp' type  = 'text'>
 
 下面是js的东西
 
 function test4(){
        var x = document.getElementById('inp').value;
        // if(x == ""|| isNaN(x)){
        // if(isNaN(x)||x.replace(/(^\s*)|(\s*$)/g,"")==false){ //这些都不行，
        console.log(x +'shi'+ x.length)
        // if(isNaN(x)||x.replace(/(^\s*)|(\s*$)/g,"")==""){  //不行
        if(isNaN(x)||/^\d+$/.test(x)==false){   //这个就可以输出不是数字的了
            console.log(x+x)
            alert('要输入数字')
        }
    }
    
//最后输入的是，空格，和 开头结尾不是数字。
```

