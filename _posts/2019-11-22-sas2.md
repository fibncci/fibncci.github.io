---
layout: post
title: "SAS语言第2遍学习"
date: 2018-07-22
tag: 语言language
---





## SAS



Statistical Analysis System 简称为SAS,可用来分析数
据和编写报告.它是美国SAS研究所的产品,在国际
上被誉为标准软件,在我国深受医学、农林、财经、社
会科学、行政管理等众多领域的专业工作者的好评。
有关ＳＡＳ的最新信息，可以查看
http://www.sas.com.cn。
ＳＡＳ采用积木式模块结构，
其中的ＳＡＳ/ＳＴＡＴ模块是目前功能最强的多元统
计分析程序集,可以做回归分析、聚类分析、判别分析、
主成分分析、因子分析、典型相关分析(下学期介绍)
以及各种试验设计的方差分析和协方差分析。
本讲义围绕SAS的应用,讲述以下六部分内容：
（１）ＳＡＳ应用基础；（２）ＳＡＳ常用语句；
（３）ＳＡＳ服务过程； （４）描述性统计程式；
（５）方差分析程式； （６）回归分析程式；


1.1 ＳＡＳ的显示管理系统
启动计算机,点击SAS图标后,即可进入SAS的显示管理
系统.在View中有四个主要的窗口(其他的先不考虑)：
(1)编辑窗口(program editor):编辑程式和数据文件;
(2)日志窗口(log):记录运行情况, 显示error信息;
(3)输出窗口(output):输出运行的结果;
(4)图形窗口(graph):输出图形.
点击View 菜单中的Program editor、Log、Output、
Graph 命令可以进入编辑、日志、输出及图形窗口.
按功能键F5、F6、F7也可以进入编辑、日志及输出窗口.
退出SAS有两种方法：
(1) 点击File 菜单中的Exit 命令；
(2) 点击窗口右上角的×。





最常用的功能键有
F1 :显示帮助信息(help);
Ｆ4 :显示已经运行的程式(recall);
Ｆ5 :进入编辑窗口（pgm）；
Ｆ6 :进入日志窗口（ＬＯＧ）;
Ｆ7 :进入输出窗口（ＯＵＴＰＵＴ）;
Ｆ8 :程式提交运行（ＳＵＢＭＩＴ）;
Ｆ9 :显示功能键（ＫＥＹＳ）;
以上功能键的用法熟悉之后,还可以定义或修改功能键.
例如，可以定义Ctrl+E为功能键,用来清屏


１.３ SAS的程式结构
在ＳＡＳ中,对数据的处理可划分为两大步骤：
(1)将数据读入SAS建立的SAS数据集,称为数据步(data)；
(2)调用ＳＡＳ的模块处理和分析数据集中的数据,
称为过程步(proc).
每一数据步都是以data语句开始,以run语句结束.
而每一过程步则都是以proc语句开始,以run语句结束.
当有多个数据步或过程步时,由于后一个data或proc语
句可以起到前一步的run语句的作用,两步中间的run语
句也就可以省略.
但是最后一步的后面必须有run语句,否则不能运行

SAS还规定,每个语句的后面都要用符号“;”作为这个语
句结束的标志.
在编辑SAS程式时,一个语句可以写成多行,多个语句
也可以写成一行,可以从一行的开头写起,也可以从一行
的任一位置写起.每一行输入完成后,用enter键可以使光
标移到下一行的开头处.
1.4 SAS程式的输入及运行
ＳＡＳ程式的输入及运行步骤如下：
（１）进入SAS的显示管理系统；
（２）进入并扩大编辑窗口；
（３）调出、编辑或修改SAS程式或数据文件；
（４）将编辑窗口的SAS程式或数据文件存盘；
(5)按功能键F8或点击“跑步”键运行SAS程
式并注意观察日志窗口中的信息，如有error
出现，应将光标移到日志窗口，用pgup和
pgdn两键翻页，找到错误的所在；
(6)将光标移到编辑窗口，按功能键F4或点击
Locals菜单中的Recall text命令调出已经运行的
ＳＡＳ程式，改正错误后转入步骤（４），
直到日志窗口中的信息没有error出现为止；
(7)将光标移到输出窗口，用pgup和pgdn两键翻
页阅读输出的结果。
〖上机练习1.1〗进入SAS的显示管理系统，
在编辑窗口输入程式：
data ex; a=1;b=2;c=3;
x=2*a+b; y=a-b/2; z=b+c**3;
proc; print; run;



## 代码

1.错误代码

```sas
data ex; a=1;b=2;c=3;
x=2*a+b; y=a-b/2; z=b+c**3;
proc; print; run;
```

2.在编辑窗口输入程式：

```sas
data ex;
input no$ sex$ age h w;
cards;
10 f 47 156.3 47.1
24 m 38 172.4 61.5
53 m 41 169.2 64.5
46 f 52 158.2 53.6
38 f 39 160.1 48
;
proc sort;by sex;
proc means;by sex;var h w; run;


在程式中，input定义与数据相对应的变量名、顺序及类型，其中no$与sex $是非数字型的串变量，
cards数据行开始的标志，数据行下面的“；”独占一行是数据行结束的标志，
sort是将ＳＡＳ数据集中的观测值按一个或多个变量进行排序，后面的by sex是要根据sex的值对上述观测值进行分组处理，
而means则是要在分组处理
后按var的要求给出变量h和w的简单的描述性统计分析结果，


在程式中，cards；与“;”之间是数据,
第一列是变量no$的数据，表示学生的号码；
第二列是变量sex$的数据，表示性别；
第三列是变量age的数据，表示年龄；
第四列是变量h的数据，表示身高；
第五列是变量w的数据，表示体重。
```



## 参考文献

```

```

